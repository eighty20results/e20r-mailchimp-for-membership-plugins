{
  "name" : "E20R MailChimp Interest Groups for Paid Memberships Pro and WooCommerce",
  "slug" : "e20r-mailchimp-for-membership-plugins",
  "download_url" : "https://eighty20results.com/protected-content/e20r-mailchimp-for-membership-plugins/e20r-mailchimp-for-membership-plugins-4.1.zip",
  "version" : "4.1",
  "tested" : "5.0",
  "requires" : "4.5",
  "author" : "Thomas Sjolshagen <thomas@eighty20results.com>",
  "author_homepage" : "https://eighty20results.com/thomas-sjolshagen",
  "last_updated" : "2019-11-10 18:30:00 MDT",
  "homepage" : "https://eighty20results.com/wordpress-plugins/e20r-mailchimp-for-membership-plugins/",
  "sections" : {
    "description" : "Automatically add users to your MailChimp.com list(s) when they sign up/register/buy on your site. Includes support for MailChimp Groups and Interests, plus Merge Tags as defined on the MailChimp server(s)",
    "changelog" : "<h3>4.0.1</h3><ol><li>ENHANCEMENT: Updated the Utilities module</li></ol><h3>4.0</h3><ol><li>ENHANCEMENT: Added docker based test environment</li><li>ENHANCEMENT: Updated copyright notice</li><li>ENHANCEMENT: Change license management tools</li><li>BUG FIX: Didn't handle spl errors</li><li>BUG FIX: Didn't load the correct update checker</li></ol><h3>3.1</h3><ol><li>ENHANCEMENT: Clear the list/user cache entry for the user in the MailChimp_API::delete(), subscribe() and remote_user_update() methods</li><li>ENHANCEMENT: Cache list info for user (avoid remote requests when possible)</li><li>ENHANCEMENT: WPCS applied to Member_Handler() class</li><li>ENHANCEMENT: Add Membership_Plugin::get_last_for_user() abstract function</li><li>ENHANCEMENT: Add filter to fetch most recent 'levels' (or category IDs) for a user based on their last order/checkout</li><li>ENHANCEMENT: Set the cursor to 'waiting' after submitting AJAX requests</li><li>ENHANCEMENT: Set the cursor back to normal if we receive an error from the AJAX call</li><li>ENHANCEMENT: Added the appropriate label for the plugin on the tabbed Settings page</li><li>BUG FIX: Empty list of membership IDs didn't trigger cancellation processing in Merge_Fields::populate()</li><li>BUG FIX: Didn't always respect unsubscribe setting in Interest_Groups::populate()</li><li>BUG FIX: Would use 'Level:' label for WooCommerce categories</li><li>BUG FIX: Improved text for the Plus license banner</li><li>BUG FIX: Didn't include PHPDoc block for default_timeout variable</li><li>BUG FIX: Have to json_encode() the body before submitting the request in MailChimp_API::execute()</li><li>BUG FIX: Refactored MailChimp_API::update_list_member() to use remote_user_update()</li><li>BUG FIX: Always returned true in MailChimp_API::delete()</li><li>BUG FIX: Don't log the REQUEST during user save operation</li><li>BUG FIX: MailChimp_API::delete() didn't handle empty interests or merge fields when using unsubscribe option 2 (change interest groups)</li><li>BUG FIX: Fix the PHPDoc block for Controller::unsubscribe()</li></ol><h3>3.0</h3><ol><li>ENHANCEMENT: Add button processing to re-enable the background update of members button</li><li>ENHANCEMENT: Better articulation of purpose of the E20R MailChimp Plus (Support & Updates) license</li><li>ENHANCEMENT: Better highlight the value of the E20R MailChimp Plus (Support & Updates) license</li><li>ENHANCEMENT: Add 'build-for-svn.sh' script</li><li>ENHANCEMENT: Support the 'build-for-svn.sh' script</li><li>BUG FIX: Load testing functionality if E20R_MC_TESTING constant isn't FALSE</li><li>BUG FIX: Add languages folder (.pot file) for translation</li><li>BUG FIX: Didn't remove the One-Click updater in build-for-svn.sh script</li><li>BUG FIX: Clarify renewal message text</li><li>BUG FIX: Error isolation for E20R MailChimp admin features</li></ol><h3>2.11</h3><ol><li>BUG FIX: Handle both WP_Error and fail codes for HTTP status on return of request</li><li>BUG FIX: Use MailChimp_API::execute() method for all requests</li><li>BUG FIX: Don't send error messages to backend/front-end when running in background</li><li>BUG FIX: Move HTML elements from translatable text</li><li>BUG FIX: Skip unnecessary executions of wp_remote_retrieve_response_message()</li><li>BUG FIX: Renamed e20r_mailchimp_cache_timeout_secs filter to e20r-mailchimp-cache-timeout-secs</li><li>BUG FIX: Background task handler looping infinitely if server had unexpected process timeout values</li><li>ENHANCEMENT: Make request timeout (default_timeout) a class member variable</li><li>ENHANCEMENT: Add e20r-mailchimp-api-http-timeout filter (to set request timeout value)</li><li>ENHANCEMENT: Add own MailChimp_API::execution() method to extend request timeout if needed</li><li>ENHANCEMENT: Add MailChimp_API::process_error() method to return standard format for WP_Error and request statuses other than 2xx/3xx</li><li>ENHANCEMENT: Add additional section if plugin isn't licensed</li></ol><h3>2.10</h3><ol><li>BUG FIX: Would trigger MailChimp update for renewal subscription payments</li><li>BUG FIX: PHP Notice if unexpected setting name</li><li>BUG FIX: Remove extra debug logging in MailChimp_API() class</li><li>BUG FIX: Simplify debug logging output (less print_r() of arrays)</li><li>BUG FIX: WooCommerce Customer import to MailChimp is in the Plus module</li><li>BUG FIX: PMPro Member import to MailChimp is in the Plus module</li><li>BUG FIX: Make WooCommmerce::get_category_ids() a public interface</li><li>BUG FIX: Didn't save the MailChimp error messages when subscribe operation failed</li><li>ENHANCEMENT: Use global to let us track MailChimp server error messages</li><li>ENHANCEMENT: Track reason why MailChimp subscribe() operation failed</li><li>ENHANCEMENT: Renamed $enabled to $enable for the interest(s) to enable</li></ol><h3>2.9.2</h3><ol><li>BUG FIX: WPCS update for MC_Settings() class</li><li>BUG FIX: Updated Utilities module (didn't correctly identify the PMPro Subscription Delays add-on)</li><li>BUG FIX: Didn't detect Debug version of Plus module when loaded</li></ol><h3>2.9.1</h3><ol><li>BUG FIX: Fatal error in Utilities module</li></ol><h3>2.9</h3><ol><li>ENHANCEMENT: Add CSS for cache reset button, edit on mailchimp button and field headers</li><li>ENHANCEMENT: Add 'clear local cache' button handler - MC_Settings::clear_cache()</li><li>ENHANCEMENT: Updated Merge_Fields class for WPCS</li><li>ENHANCEMENT: Add support for locally caching all list info from MailChimp.com</li><li>ENHANCEMENT: Shorten time to complete Mailchimp_API::connect()</li><li>ENHANCEMENT: Use cached data if available in Mailchimp_API::load_lists()</li><li>ENHANCEMENT: Add support for upstream list info in Cache</li><li>ENHANCEMENT: Apply WPCS to Mailchimp_API() class</li><li>ENHANCEMENT: WPCS in Interest_Groups() class</li><li>ENHANCEMENT: Add support for Clear local cache button</li><li>BUG FIX: AJAX timeout was too short for certain operations</li><li>BUG FIX: Didn't load PMPro specific GDPR opt-in if WooCommerce was the selected plugin, but had PMPro installed as well.</li><li>BUG FIX: Didn't always display GDPR opt-in on the PMPro checkout page</li><li>BUG FIX: PHP Warning in Interest_Groups() class</li><li>BUG FIX: Make sure the GDPR opt-in shows up on the PMPro checkout page and PMPro Signon Shortcode form</li><li>BUG FIX: Save Merge Fields to local cache</li><li>BUG FIX: Consistently use Utilities::add_message() for warnings/errors/notices</li><li>BUG FIX: Don't force mailchimp.com lookup of mail lists, etc if a cached version exists already</li></ol><h3>2.8</h3><ol><li>BUG FIX: Wouldn't show the GDPR opt-in for this plugin on PMPro forms if WooCommerce was the preferred integration</li></ol><h3>2.7</h3><ol><li>BUG FIX: Would delete user from MailChimp list when updating user(s) profile (Mailchimp_API::delete() vs Controlller::unsubscribe()</li><li>BUG FIX: Specified wrong table when looking for recent products bought by the customer in the WooCommerce store</li><li>BUG FIX: Wouldn't always update the remote user record on mailchimp.com</li><li>BUG FIX: Escape the regex Interest Category name (just in case)</li><li>ENHANCEMENT: Refactor Mailchimp_API::get_cache() method</li><li>ENHANCEMENT: Add Mailchimp_API::generate_cache_key() method</li><li>ENHANCEMENT: Add PHPDoc blocks for more methods in Mailchimp_API class</li><li>ENHANCEMENT: Added 'Mailchimp_API::delete()' method and deprecated Mailchimp_API::unsubscribe()</li><li>ENHANCEMENT: Refactored PMPro::membership_level_ids_for_user() method</li><li>ENHANCEMENT: Added PMPro::get_level_history_for_user() method</li><li>ENHANCEMENT: Add member module specific method for level/category history</li><li>ENHANCEMENT: Use 'Mailchimp_API::delete()' method when removing users from lists</li><li>ENHANCEMENT: Removed stale (unused) code from Member_Handler() class</li><li>ENHANCEMENT: Improved documentation for Member_Handler::get_levels() method</li><li>ENHANCEMENT: Refactored WooCommerce::plugin_load() method</li><li>ENHANCEMENT: Refactored WooCommerce::verify_custom_fields() method</li><li>ENHANCEMENT: Refactored WooCommerce::get_most_recent_product_cats() method</li><li>ENHANCEMENT: Refactored WooCommerce::init_default_groups() method</li><li>ENHANCEMENT: Refactored WooCommerce::get_interest_cat_label() method</li><li>ENHANCEMENT: Refactored WooCommerce::is_on_checkout_page() method</li><li>ENHANCEMENT: Refactored WooCommerce::set_mf_values_for_member() method</li><li>ENHANCEMENT: Refactored WooCommerce::list_members_for_update() method</li><li>ENHANCEMENT: Refactored WooCommerce::get_level_definition() method</li><li>ENHANCEMENT: Refactored WooCommerce::has_membership_plugin() method</li><li>ENHANCEMENT: Refactored WooCommerce::membership_level_ids_for_user() method</li><li>ENHANCEMENT: Added WooCommerce::get_level_history_for_user() method</li><li>ENHANCEMENT: Reordered methods in class.woocommerce.php</li><li>ENHANCEMENT: Add the GDPR opt-in to the PMPro Signup Shortcode form</li><li>ENHANCEMENT: Move GDPR opt-in field to the 'pmpro_checkout_after_user_fields' action for Paid Memberships Pro</li></ol><h3>2.4</h3><ol><li>ENHANCEMENT: Filter added for Interests (by name): e20r-mailchimp-member-interest-names</li><li>ENHANCEMENT: Renamed e20r_mailchimp_list_interest_category_type to e20r-mailchimp-list-interest-category-type</li><li>ENHANCEMENT: Removed stale (unused) code</li></ol><h3>2.3</h3><ol><li>BUG FIX: Extra (GDPR) opt-in required the 'alternate list opt-in' to be configured (should not be required)</li><li>ENHANCEMENT: Global add_custom_views() handler for any supported membership/commerce plugin</li><li>ENHANCEMENT: Add custom view handler for PMPro (at bottom of checkout page)</li><li>ENHANCEMENT: Add custom view handler for WooCommerce (on checkout page)</li></ol><h3>2.2</h3><ol><li>ENHANCEMENT: Removed extra and unused code for licensed features</li><li>ENHANCEMENT: Added .pot file for translations</li><li>ENHANCEMENT: Add support for loading and saving settings from a supported external module</li><li>ENHANCEMENT: Loading GDPR settings and forms from Plus module</li><li>ENHANCEMENT: Added formatting for GDPR opt-in form</li><li>ENHANCEMENT: Add custom registration checks (for GDPR assistance)</li><li>ENHANCEMENT: Generic registration checks (PMPro) handler documentation</li><li>ENHANCEMENT: Generic registration checks (WooCommerce) handler</li><li>ENHANCEMENT: More GDPR updates</li><li>BUG FIX: Required argument for consent check filter not included</li></ol><h3>2.0</h3><ol><li>ENHANCEMENT: Added WooCommerce compatibility metadata</li><li>ENHANCEMENT: Add latent support for GDPR features in WordPress core</li><li>ENHANCEMENT: Refactored view_additional_lists() method</li><li>ENHANCEMENT: Refactored clear_levels_cache() method</li><li>ENHANCEMENT: Refactored session_vars() method</li><li>ENHANCEMENT: Moved session_vars() method to PMPro specific class</li><li>ENHANCEMENT: Moved clear_levels_cache() method to PMPro specific class</li><li>ENHANCEMENT: Moved view_additional_lists() method to parent Membership_Plugin class</li><li>ENHANCEMENT: Refactored view_additional_lists() to Membership_Plugin class</li><li>ENHANCEMENT: Added GDPR related consent opt-in checkbox to Member_Handler_View::addl_list_choice() view</li><li>ENHANCEMENT: Warn admin if user didn't consent to Data Policy</li><li>ENHANCEMENT: Updated filter string for e20r-mailchimp-assign-interest-to-user and documented it</li><li>ENHANCEMENT: Added documentation for e20r-mailchimp-interests-to-assign-to-user filter</li><li>ENHANCEMENT: Refactored the Interest_Groups class</li><li>ENHANCEMENT: Updated filter documentation for e20r-mailchimp-user-defined-merge-tag-fields</li><li>ENHANCEMENT: Updated copyright notice</li><li>ENHANCEMENT: Removed stale/old code</li><li>ENHANCEMENT: Refactored code</li><li>ENHANCEMENT: Expand autoloader</li><li>BUG FIX: Didn't handle licensed vs non-licensed features correctly</li></ol><h3>1.4.1</h3><ol><li>BUG FIX: Syntax error in Utilities module</li></ol><h3>1.4</h3><ol><li>BUG FIX: Update Utilities module to get rid of empty warning messages (should figure out why they're getting added too!)</li></ol><h3>1.3</h3><ol><li>BUG FIX: Incorrect path name to the WP Plugins directory</li><li>BUG FIX: Would attempt to process Interest Categories when none were present.</li><li>BUG FIX: PHP Warning while loading the plugin</li><li>ENHANCEMENT: Updated Utilities module for plugin</li></ol><h3>1.2</h3><ol><li>ENHANCEMENT: Update Utilities submodule</li><li>ENHANCEMENT: Updated the basic framework for Export_MC_Users class</li><li>ENHANCEMENT: Only load new license config and and Settings page in wp-admin</li><li>ENHANCEMENT: Added WooCommerce handler for e20r-mailchimp-checkout-pages</li><li>ENHANCEMENT: Added PMPro handler for e20r-mailchimp-checkout-pages</li><li>ENHANCEMENT: Only need to load settings stuff if the user is logged in</li><li>ENHANCEMENT: Only load Member Handler functionality on certain pages, in the back-end, or when the user is logged in</li><li>ENHANCEMENT: Renamed e20r-mailchimp-checkout-pages filter to e20r-mailchimp-load-on-pages (more descriptive)</li><li>ENHANCEMENT: Only load user profile functionality if we're in the back-end, or on the TML front-end profile page(s) and logged in</li><li>ENHANCEMENT: Load the licensing stuff during init action</li><li>ENHANCEMENT: Change the priority for the Member_Hander::load_plugin() method</li><li>ENHANCEMENT: Add on_login_page() method for Controller() class (Includes TML support)</li><li>BUG FIX: Too agressive when speeding up the plugin load</li></ol><h3>1.1</h3><ol><li>ENHANCEMENT: Set the license stub to e20r_mc</li><li>ENHANCEMENT: Adding stub for Export_MC_User class</li><li>ENHANCEMENT: Adding stub functions/partial classes for Signup form shorcode</li><li>ENHANCEMENT: Update Utilities submodule to v2.0</li></ol><h3>1.0</h3><ol><li>Initial release</li></ol>",
    "faq" : "<h3>I found a bug in the plugin.</h3>Please report your issue to us by using the <a href='https://eighty20results.com/support-forums/forum/support-forums/e20r-mailchimp-for-membership-plugins/' target='_blank'>Support Forum</a>."
    }
}
